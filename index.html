<!DOCTYPE HTML>
<html>
    <head>
        <title>Instajoe's Official Website</title>
        <meta charset="utf-8">
        <link href="https://fonts.googleapis.com/css?family=Inter" rel="stylesheet">
        <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <style>
             @font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 400;
  src: url(https://fonts.gstatic.com/s/inter/v7/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZJhiI2B.woff2) format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}

body{
    font-family: "Inter";
    color: white;
}
            article {
  max-width: 576px;
  margin: 0 auto;
  padding: 1.5rem;
  overflow-wrap: break-word;
  background-color: #313131;
  border-radius: 20px;
  overflow:hidden;
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
  text-align: center;
}

hr { height: 1px;
    border: 0; border-top: 1px solid white;
    margin: 1em 0; padding: 0;
width:50%;
margin-left:25% !important; margin-right:25% !important; 
}

        </style>	
    </head>
    <body style="background-color: #313131;" onload="fetchData()">
        <br>
        <br>
        <article>
            <img id="pfp" style="width: 25%; height: 25%; border-radius: 50%" src="placholder"><br>
            <h1 style="font-size: 42px;" id="username">Loading...</h1>
            <label style="font-size:18px" id="desc">Loading...</label><br><br>
            <i class="fab fa-discord" onclick="opendisc()" style="font-size:35px;color:#5865F2; cursor: pointer;"></i>
            <i class="fab fa-twitch" onclick="opentwitch()" style="font-size:35px;color:#A970FF; cursor: pointer; margin-left:15px"></i>
            <i class="fab fa-youtube" onclick="openyt()" style="font-size:35px;color:#FF0000; cursor: pointer; margin-left:15px"></i>
            <i class="fab fa-twitter" onclick="opentwit()" style="font-size:35px;color:#1DA1F2; cursor: pointer; margin-left:15px"></i>
        </article>
        <br><br>
        <article>
            <h1 style="font-size: 35px;">Twitch</h1>
            <hr>
            <br>
            <label style="font-size:18px" id="twitchstats">Loading...</label><br><br>
            <hr>
            <label style="font-size: 22px;"><b>Emotes</b></label><br>
            <label id="stuff"></label>
            <hr>
            <label style="font-size: 22px;"><b>Latest Followers</b></label><br><br>
            <label id="latestfollowers"></label><br>
            <button onclick="opentwitch()" style="width:250px; background-color: #A970FF; height:35px; color: white; border: none; cursor: pointer; border-radius: 10px; font-family: Inter; font-size: 16px;"><i class="far fa-heart" style="font-size:17px;color:white; margin-right:10px"></i>Follow on Twitch</button>
        </article>
        <br><br>
        <article>
        <h1 style="font-size: 35px;">Discord</h1>
        <hr>
        <br>
            <img id="dsc" style="width:30%px; height:30%px; border-radius: 10px; vertical-align:middle;" src="a"><br><br>
        <label style="font-size:18px; vertical-align:middle" id="discstats">Loading...</label><br><br>
        <button onclick="opendisc()" style="width:250px; background-color: #5865F2; height:35px; color: white; border: none; cursor: pointer; border-radius: 10px; font-family: Inter; font-size: 16px;"><i class="fab fa-discord" style="font-size:17px;color:white; margin-right:10px"></i>Join the Discord</button>
        </article><br><br>
        <article>
        <h1 style="font-size: 35px;">InstaJoe SMP</h1>
        <hr>
        <br>
            <img id="serverpfp" style="width:30%px; height:30%px; border-radius: 10px; vertical-align:middle;" src="a"><br><br>
        <label style="font-size:18px; vertical-align:middle" id="mcstats">Loading...</label><br><br>
        <button onclick="opendisc()" style="width:250px; background-color: #5865F2; height:35px; color: white; border: none; cursor: pointer; border-radius: 10px; font-family: Inter; font-size: 16px;"><i class="fab fa-discord" style="font-size:17px;color:white; margin-right:10px"></i>Join the Discord</button>
        </article><br><br>

    

        <script>
async function fetchData(){

    let clientid = "naty2zwfp7vecaivuve8ef1hohh6bo"
      
      
      var response2 = await fetch("https://api.twitch.tv/helix/users?login=instajoe", {
  "headers": {
    "accept": "application/vnd.twitchtv.v5+json",
    "accept-language": "en-US,en;q=0.9,ko;q=0.8,en-GB;q=0.7",
    "client-id": clientid
  },
  "method": "GET"
});
      
    const data2 = await response2.json();
      
      
      var response4 = await fetch("https://api.twitch.tv/helix/users/follows?from_id=" + data2.data[0].id, {
  "headers": {
    "accept": "application/vnd.twitchtv.v5+json",
    "accept-language": "en-US,en;q=0.9,ko;q=0.8,en-GB;q=0.7",
    "client-id": clientid
  },
  "method": "GET"
});
      
    const data4 = await response4.json();

     
 
    var response = await fetch("https://api.twitch.tv/kraken/channels/" + data2.data[0].id, {
  "headers": {
    "accept": "application/vnd.twitchtv.v5+json",
    "accept-language": "en-US,en;q=0.9,ko;q=0.8,en-GB;q=0.7",
    "client-id": clientid
  },
  "method": "GET"
});
      
    const data = await response.json();

     var discresponse = await fetch("https://discord.com/api/v9/invites/M36V2kvpAw?with_counts=true")      
    const discdata = await discresponse.json();


    var response3 = await fetch("https://api.twitch.tv/helix/chat/emotes/?broadcaster_id=" + data2.data[0].id, {
  "headers": {
    "accept": "application/vnd.twitchtv.v5+json",
    "accept-language": "en-US,en;q=0.9,ko;q=0.8,en-GB;q=0.7",
    "client-id": clientid
  },
  "method": "GET"
});
      
    const data3 = await response3.json();

    var followresponse = await fetch("https://api.twitch.tv/helix/users/follows?first=100&to_id=" + data2.data[0].id + "&cacheBuster=1638388148876", {
  "headers": {
    "accept": "application/vnd.twitchtv.v5+json",
    "accept-language": "en-US,en;q=0.9,ko;q=0.8,en-GB;q=0.7",
    "client-id": clientid
  },
  "method": "GET"
});
      
    const followdata = await followresponse.json();
    
       var a = await fetch("https://api.minetools.eu/ping/instajoesviewersmp.apexmc.co");
      
    const mc = await a.json();


    document.getElementById("pfp").src = data.logo
    document.getElementById("username").innerHTML = data.name
    document.getElementById("desc").innerHTML = "<i>\"" + data.description + "\"</i>"
    //document.getElementById("twitchstats").innerHTML = "<b>" + data.followers + "</b> Followers<br><b>" + data4.total + "</b> Following<br><b>" + data.views + "</b> Total Views"
    document.getElementById("twitchstats").innerHTML = "<label style=\"font-size:21px\"><b>" + data.followers + "</b></label><label style=\"font-size:18px; margin-left:5px\">Followers</label><br><label style=\"font-size:21px\"><b>" + data4.total + "</b></label><label style=\"font-size:18px; margin-left:5px\">Following</label><br><label style=\"font-size:21px\"><b>" + data.views + "</b></label><label style=\"font-size:18px; margin-left:5px\">Total Views</label><br><br><label style=\"font-size:18px;\">Latest Stream:</label><br><label style=\"font-size:16px;\"><i>" + data.status + "</i></label>"
    document.getElementById("dsc").src = "https://cdn.discordapp.com/icons/" + discdata.guild.id + "/" + discdata.guild.icon + ".png"
    document.getElementById("discstats").innerHTML = "<label style=\"font-size:24px\"><b>" + discdata.guild.name + "</b></label><br><br><label style=\"font-size:18px;\"><i>" + discdata.guild.welcome_screen.description + "</i></label><br><br><label style=\"font-size:21px\"><i class=\"fas fa-user\" style=\"font-size:17px;color:#747F8D; margin-right:10px\"></i><b>" + discdata.approximate_member_count + "</b></label><label style=\"font-size:18px; margin-left:5px\">Members</label><br><label style=\"font-size:21px\"><i class=\"fas fa-user\" style=\"font-size:17px;color:#3BA55D; margin-right:10px\"></i><b>" + discdata.approximate_presence_count + "</b></label><label style=\"font-size:18px; margin-left:5px\">Members Online</label>"

    let result = ""

    var i,j, temporary, chunk = 2;
for (i = 0,j = data3.data.length; i < j; i += chunk) {
    temporary = data3.data.slice(i, i + chunk);

    result = result + "<br>"
    for (let i = 0; i < temporary.length; i++) {
      result = result + "<img style=\"vertical-align:middle; width:35px; height:35px; margin-left:6px\" src=\"" + temporary[i].images.url_1x + "\"><label style=\"vertical-align:middle; margin-left:2px; color:white; font-size:16px\">" + temporary[i].name + "</label>"
    }
    
}



var link = document.querySelector("link[rel~='icon']");
if (!link) {
    link = document.createElement('link');
    link.rel = 'icon';
    document.getElementsByTagName('head')[0].appendChild(link);
}
link.href = data.logo;

document.getElementById("stuff").innerHTML = result.replace("<br><br>", "") + "<br><br>"
document.getElementById("latestfollowers").innerHTML =  "1. <b>" + followdata.data[0].from_login + "</b> (<i>" + followdata.data[0].followed_at.replace(/T/g, " ").replace(/Z/g, "").replace(/-/g, "/") + ")</i><br>" +  "2. <b>" + followdata.data[1].from_login + "</b> (<i>" + followdata.data[1].followed_at.replace(/T/g, " ").replace(/Z/g, "").replace(/-/g, "/") + ")</i><br>" + "3. <b>" + followdata.data[2].from_login + "</b> (<i>" + followdata.data[2].followed_at.replace(/T/g, " ").replace(/Z/g, "").replace(/-/g, "/") + ")</i><br>" + "4. <b>" + followdata.data[3].from_login + "</b> (<i>" + followdata.data[3].followed_at.replace(/T/g, " ").replace(/Z/g, "").replace(/-/g, "/") + ")</i><br>"  + "5. <b>" + followdata.data[4].from_login + "</b> (<i>" + followdata.data[4].followed_at.replace(/T/g, " ").replace(/Z/g, "").replace(/-/g, "/") + ")</i><br><br>"

    document.getElementById("serverpfp").src = mc.favicon
}

function opentwitch(){
   window.location.href = "https://twitch.tv/instajoe"
}

function opentwit(){
    window.location.href = "https://twitter.com/instajoe_" 
}

function opendisc(){
    window.location.href = "https://discord.gg/M36V2kvpAw"
}

function openyt(){
    window.location.href = "https://www.youtube.com/channel/UCpwkAugMO7CXrIkL57KjBhQ"  
}
        </script>
    </body>
</html>
