<!DOCTYPE HTML>
<html>
    <head>
        <title>Instajoe's Official Website</title>
        <meta charset="utf-8">
        <link href="https://fonts.googleapis.com/css?family=Inter" rel="stylesheet">
        <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <style>
             @font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 400;
  src: url(https://fonts.gstatic.com/s/inter/v7/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZJhiI2B.woff2) format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}

body{
    font-family: "Inter";
    color: white;
}
            article {
  max-width: 576px;
  margin: 0 auto;
  padding: 1.5rem;
  overflow-wrap: break-word;
  background-color: #313131;
  border-radius: 20px;
  overflow:hidden;
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
  text-align: center;
}

hr { height: 1px;
    border: 0; border-top: 1px solid white;
    margin: 1em 0; padding: 0;
width:50%;
margin-left:25% !important; margin-right:25% !important; 
}

        </style>	
    </head>
    <body style="background-color: #313131;" onload="fetchData()">
        <br>
        <br>
        <article>
            <img id="pfp" style="width: 25%; height: 25%; border-radius: 50%" src="placholder"><br>
            <h1 style="font-size: 42px;" id="username">Loading...</h1>
            <label style="font-size:18px" id="desc">Loading...</label><br><br>
            <i class="fab fa-discord" onclick="opendisc()" style="font-size:35px;color:#5865F2; cursor: pointer;"></i>
            <i class="fab fa-twitch" onclick="opentwitch()" style="font-size:35px;color:#A970FF; cursor: pointer; margin-left:15px"></i>
            <i class="fab fa-youtube" onclick="openyt()" style="font-size:35px;color:#FF0000; cursor: pointer; margin-left:15px"></i>
            <i class="fab fa-twitter" onclick="opentwit()" style="font-size:35px;color:#1DA1F2; cursor: pointer; margin-left:15px"></i>
        </article>
        <br><br>
        <article>
            <h1 style="font-size: 35px;">Twitch</h1>
            <hr>
            <br>
            <label style="font-size:18px" id="twitchstats">Loading...</label><br><br>
            <hr>
            <label style="font-size: 22px;"><b>Emotes</b></label><br>
            <label id="stuff"></label>
            <hr>
            <label style="font-size: 22px;"><b>Latest Followers</b></label><br><br>
            <label id="latestfollowers"></label><br>
            <button onclick="opentwitch()" style="width:250px; background-color: #A970FF; height:35px; color: white; border: none; cursor: pointer; border-radius: 10px; font-family: Inter; font-size: 16px;"><i class="far fa-heart" style="font-size:17px;color:white; margin-right:10px"></i>Follow on Twitch</button>
        </article>
        <br><br>
        <article>
        <h1 style="font-size: 35px;">Discord</h1>
        <hr>
        <br>
            <img id="dsc" style="width:30%px; height:30%px; border-radius: 10px; vertical-align:middle;" src="a"><br><br>
        <label style="font-size:18px; vertical-align:middle" id="discstats">Loading...</label><br><br>
        <button onclick="opendisc()" style="width:250px; background-color: #5865F2; height:35px; color: white; border: none; cursor: pointer; border-radius: 10px; font-family: Inter; font-size: 16px;"><i class="fab fa-discord" style="font-size:17px;color:white; margin-right:10px"></i>Join the Discord</button>
<br><br>
        <hr>
        <label style="font-size: 22px;"><b>Joe's Profile</b></label><br><br>
        <img id="dscpfp" style="width:25%px; height:25%; border-radius: 50%; vertical-align:middle;"><br><br>
        <label id="prfinfo" style="font-size:23px;"></label><br><br>
        <label id="bios"></label>
        <br>
        </article><br><br>

    

        <script>
async function fetchData(){

    let clientid = "naty2zwfp7vecaivuve8ef1hohh6bo"
      
      
      var response2 = await fetch("https://api.twitch.tv/helix/users?login=instajoe", {
  "headers": {
    "accept": "application/vnd.twitchtv.v5+json",
    "accept-language": "en-US,en;q=0.9,ko;q=0.8,en-GB;q=0.7",
    "client-id": clientid
  },
  "method": "GET"
});
      
    const data2 = await response2.json();
      
      
      var response4 = await fetch("https://api.twitch.tv/helix/users/follows?from_id=" + data2.data[0].id, {
  "headers": {
    "accept": "application/vnd.twitchtv.v5+json",
    "accept-language": "en-US,en;q=0.9,ko;q=0.8,en-GB;q=0.7",
    "client-id": clientid
  },
  "method": "GET"
});
      
    const data4 = await response4.json();

     
 
    var response = await fetch("https://api.twitch.tv/kraken/channels/" + data2.data[0].id, {
  "headers": {
    "accept": "application/vnd.twitchtv.v5+json",
    "accept-language": "en-US,en;q=0.9,ko;q=0.8,en-GB;q=0.7",
    "client-id": clientid
  },
  "method": "GET"
});
      
    const data = await response.json();

     var discresponse = await fetch("https://discord.com/api/v9/invites/M36V2kvpAw?with_counts=true")      
    const discdata = await discresponse.json();


    var response3 = await fetch("https://api.twitch.tv/helix/chat/emotes/?broadcaster_id=" + data2.data[0].id, {
  "headers": {
    "accept": "application/vnd.twitchtv.v5+json",
    "accept-language": "en-US,en;q=0.9,ko;q=0.8,en-GB;q=0.7",
    "client-id": clientid
  },
  "method": "GET"
});
      
    const data3 = await response3.json();

    var followresponse = await fetch("https://api.twitch.tv/helix/users/follows?first=100&to_id=" + data2.data[0].id + "&cacheBuster=1638388148876", {
  "headers": {
    "accept": "application/vnd.twitchtv.v5+json",
    "accept-language": "en-US,en;q=0.9,ko;q=0.8,en-GB;q=0.7",
    "client-id": clientid
  },
  "method": "GET"
});
      
    const followdata = await followresponse.json();

    var disc = await fetch("https://discord.com/api/v9/users/765294466604072993/profile", {
  "headers": {
    "authorization": "OTE5MjgwODY3MTM2OTA5MzM0.YbY1nQ.8-KnEU4mfcKxMpJ1vICClL4y2GU",
  },
  "method": "GET"
});
      
    const profile = await disc.json();
    console.log(profile)

    document.getElementById("pfp").src = data.logo
    document.getElementById("username").innerHTML = data.name
    document.getElementById("desc").innerHTML = "<i>\"" + data.description + "\"</i>"
    //document.getElementById("twitchstats").innerHTML = "<b>" + data.followers + "</b> Followers<br><b>" + data4.total + "</b> Following<br><b>" + data.views + "</b> Total Views"
    document.getElementById("twitchstats").innerHTML = "<label style=\"font-size:21px\"><b>" + data.followers + "</b></label><label style=\"font-size:18px; margin-left:5px\">Followers</label><br><label style=\"font-size:21px\"><b>" + data4.total + "</b></label><label style=\"font-size:18px; margin-left:5px\">Following</label><br><label style=\"font-size:21px\"><b>" + data.views + "</b></label><label style=\"font-size:18px; margin-left:5px\">Total Views</label><br><br><label style=\"font-size:18px;\">Latest Stream:</label><br><label style=\"font-size:16px;\"><i>" + data.status + "</i></label>"
    document.getElementById("dsc").src = "https://cdn.discordapp.com/icons/" + discdata.guild.id + "/" + discdata.guild.icon + ".png"
    document.getElementById("discstats").innerHTML = "<label style=\"font-size:24px\"><b>" + discdata.guild.name + "</b></label><br><br><label style=\"font-size:18px;\"><i>" + discdata.guild.welcome_screen.description + "</i></label><br><br><label style=\"font-size:21px\"><i class=\"fas fa-user\" style=\"font-size:17px;color:#747F8D; margin-right:10px\"></i><b>" + discdata.approximate_member_count + "</b></label><label style=\"font-size:18px; margin-left:5px\">Members</label><br><label style=\"font-size:21px\"><i class=\"fas fa-user\" style=\"font-size:17px;color:#3BA55D; margin-right:10px\"></i><b>" + discdata.approximate_presence_count + "</b></label><label style=\"font-size:18px; margin-left:5px\">Members Online</label>"

    let result = ""

    var i,j, temporary, chunk = 2;
for (i = 0,j = data3.data.length; i < j; i += chunk) {
    temporary = data3.data.slice(i, i + chunk);

    result = result + "<br>"
    for (let i = 0; i < temporary.length; i++) {
      result = result + "<img style=\"vertical-align:middle; width:35px; height:35px; margin-left:6px\" src=\"" + temporary[i].images.url_1x + "\"><label style=\"vertical-align:middle; margin-left:2px; color:white; font-size:16px\">" + temporary[i].name + "</label>"
    }
    
}

let results = ""
let nitro = ""

if(profile.premium_since == null)
{
    nitro = ""
}
else{
    nitro = "<svg style=\"vertical-align:middle\" xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><circle cx=\"15\" cy=\"12\" fill=\"#fff\" r=\"6\"/><path clip-rule=\"evenodd\" d=\"m2.20812 10.124c.42636 0 .7816-.34817.7816-.76611 0-.41793-.35524-.76615-.7816-.76615h-.42635c-.42636 0-.78177.34822-.78177.76615 0 .41794.35541.76611.78177.76611zm16.13038 9.2643c4.0504-1.811 5.7558-6.4083 3.9083-10.23937-1.2791-2.71657-3.9793-4.31859-6.8217-4.45801h-8.02965c-.71065 0-1.20812.55735-1.20812 1.18425 0 .69645.56859 1.18409 1.20812 1.18409h2.06067c.42635 0 .78158.34822.78158.76616 0 .41793-.35523.76632-.78158.76632h-5.04517c-.42635 0-.78176.34822-.78176.76615 0 .41794.35541.76611.78176.76611h3.62404c.42635 0 .78159.3484.78159.7664 0 .4179-.35524.7661-.78159.7661h-2.27402c-.42636 0-.7816.3482-.7816.7662 0 .4179.35524.7663.7816.7663h1.56336c.07112.8359.2843 1.6717.63954 2.4379 1.77654 3.8311 6.46643 5.5028 10.37463 3.7614zm-7.2725-5.1884c-1.0318-2.2025-.0466-4.80794 2.2003-5.81933 2.2469-1.0114 4.9049-.04564 5.9366 2.15683 1.0318 2.2025.0468 4.8079-2.2003 5.8193-2.2469 1.0114-4.9048.0457-5.9366-2.1568z\" fill=\"#4f5d7f\" fill-rule=\"evenodd\"/><path d=\"m16.8142 9.86662 1.4212 2.36838c.0711.1392.0711.2089 0 .3482l-1.4212 2.3683c-.0711.1393-.2131.1393-.2842.1393h-2.7714c-.142 0-.2131-.0697-.2841-.1393l-1.4213-2.3683c-.0709-.1393-.0709-.209 0-.3482l1.4213-2.36838c.071-.13926.2132-.13926.2841-.13926h2.7714c.1422-.06971.2131 0 .2842.13926z\" fill=\"#c5cedd\"/></svg>"
}
for (var i = 0; i < profile.connected_accounts.length; i++) {

    console.log(profile.connected_accounts[i])
    if (profile.connected_accounts[i].type == "github"){
       results = results + "<i class=\"fab fa-github\" style=\"font-size:25px;color:white; vertical-align:middle\"></i>" + "<label style=\"margin-left:10px; vertical-align:middle; font-size:20px\">" + profile.connected_accounts[i].name + "</label><br>"
    }
    if (profile.connected_accounts[i].type == "battlenet"){
       results = results + "<i class=\"fab fa-battle-net\" style=\"font-size:25px;color:#3F8FF7; vertical-align:middle\"></i>"  + "<label style=\"margin-left:10px; vertical-align:middle; font-size:20px\">" + profile.connected_accounts[i].name + "</label><br>"
    }
    if (profile.connected_accounts[i].type == "spotify"){
       results = results + "<i class=\"fab fa-spotify\" style=\"font-size:25px;color:#1ED760; vertical-align:middle\"></i>"  + "<label style=\"margin-left:10px; vertical-align:middle; font-size:20px\">" + profile.connected_accounts[i].name + "</label><br>"
    }
    if (profile.connected_accounts[i].type == "youtube"){
       results = results + "<i class=\"fab fa-youtube\" style=\"font-size:25px;color:#D9252A; vertical-align:middle\"></i>"  + "<label style=\"margin-left:10px;  vertical-align:middle; font-size:20px; vertical-align:middle\">" + profile.connected_accounts[i].name + "</label><br>"
    }
    if (profile.connected_accounts[i].type == "steam"){
       results = results + "<i class=\"fab fa-steam\" style=\"font-size:25px;color:white; vertical-align:middle\"></i>"  + "<label style=\"margin-left:10px; vertical-align:middle; font-size:20px\">" + profile.connected_accounts[i].name + "</label><br>"
    }
    if (profile.connected_accounts[i].type == "twitch"){
       results = results + "<i class=\"fab fa-twitch\" style=\"font-size:25px;color:#9146FF; vertical-align:middle\"></i>"  + "<label style=\"margin-left:10px; vertical-align:middle; font-size:20px\">" + profile.connected_accounts[i].name + "</label><br>"
    }
    if (profile.connected_accounts[i].type == "twitter"){
       results = results + "<i class=\"fab fa-twitter\" style=\"font-size:25px;color:#1DA1F2; vertical-align:middle\"></i>"  + "<label style=\"margin-left:10px; vertical-align:middle; font-size:20px\">" + profile.connected_accounts[i].name + "</label><br>"
    }
    if (profile.connected_accounts[i].type == "reddit"){
       results = results + "<i class=\"fab fa-reddit\" style=\"font-size:25px;color:#FF4500; vertical-align:middle\"></i>" + "<label style=\"margin-left:10px; vertical-align:middle; font-size:20px\">" + profile.connected_accounts[i].name + "</label><br>"
    }
    if (profile.connected_accounts[i].type == "xbox"){
       results = results + "<i class=\"fab fa-xbox\" style=\"font-size:25px;color:white; vertical-align:middle \"></i>" + "<label style=\"margin-left:10px; vertical-align:middle; font-size:20px\">" + profile.connected_accounts[i].name + "</label><br>"
    }
}

var link = document.querySelector("link[rel~='icon']");
if (!link) {
    link = document.createElement('link');
    link.rel = 'icon';
    document.getElementsByTagName('head')[0].appendChild(link);
}
link.href = data.logo;


let verified = ""
let bio = ""
    if(profile.user.bio == "")
    {
        bio = "User has no bio."
    }
    else{
        bio = profile.user.bio
    }

document.getElementById("stuff").innerHTML = result.replace("<br><br>", "") + "<br><br>"
document.getElementById("latestfollowers").innerHTML =  "1. <b>" + followdata.data[0].from_login + "</b> (<i>" + followdata.data[0].followed_at.replace(/T/g, " ").replace(/Z/g, "").replace(/-/g, "/") + ")</i><br>" +  "2. <b>" + followdata.data[1].from_login + "</b> (<i>" + followdata.data[1].followed_at.replace(/T/g, " ").replace(/Z/g, "").replace(/-/g, "/") + ")</i><br>" + "3. <b>" + followdata.data[2].from_login + "</b> (<i>" + followdata.data[2].followed_at.replace(/T/g, " ").replace(/Z/g, "").replace(/-/g, "/") + ")</i><br>" + "4. <b>" + followdata.data[3].from_login + "</b> (<i>" + followdata.data[3].followed_at.replace(/T/g, " ").replace(/Z/g, "").replace(/-/g, "/") + ")</i><br>"  + "5. <b>" + followdata.data[4].from_login + "</b> (<i>" + followdata.data[4].followed_at.replace(/T/g, " ").replace(/Z/g, "").replace(/-/g, "/") + ")</i><br><br>"
document.getElementById("dscpfp").src = "https://cdn.discordapp.com/avatars/" + profile.user.id + "/" + profile.user.avatar + ".png"
document.getElementById("prfinfo").innerHTML = "<b>" + profile.user.username + "<font color=#c2c2c2>#" + profile.user.discriminator + "</font></b>"  + nitro
document.getElementById("bios").innerHTML = "<i>\"" + bio + "\"</i><br><br>" + results
}

function opentwitch(){
   window.location.href = "https://twitch.tv/instajoe"
}

function opentwit(){
    window.location.href = "https://twitter.com/instajoe_" 
}

function opendisc(){
    window.location.href = "https://discord.gg/M36V2kvpAw"
}

function openyt(){
    window.location.href = "https://www.youtube.com/channel/UCpwkAugMO7CXrIkL57KjBhQ"  
}
        </script>
    </body>
</html>
